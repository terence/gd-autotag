# wp_plugin

A lightweight WordPress plugin scaffold (generated by Copilot) with automatic GitHub-based updates.

## Features

- PSR-4 autoloading with Composer
- Admin and frontend asset management
- Automatic updates from GitHub Releases
- Unit test scaffolding with PHPUnit

## Installation

1. Upload the `wp-plugin` folder to your `/wp-content/plugins/` directory.
2. Activate the plugin through the 'Plugins' screen in WordPress.

## Development

### Setup

```bash
# Clone with submodules
git clone --recursive https://github.com/terence/wp-plugin

# Or if already cloned, initialize submodules
git submodule update --init --recursive

# Install dependencies (optional, only needed for tests)
composer install
```

### Running Tests

```bash
composer test
```

### Validating Update Checker

```bash
php validate-update-checker.php
```

## Automatic Updates

This plugin uses [plugin-update-checker](https://github.com/YahnisElsts/plugin-update-checker) to enable automatic updates from GitHub Releases.

### How It Works

1. The plugin checks your GitHub repository for new releases
2. When a new version is tagged and released, WordPress will show an update notification
3. Users can update directly from the WordPress admin panel

### Creating a Release

1. Update version in `wp-plugin.php`:
   - Header: `Version: 1.0.1`
   - Constant: `define('WP_PLUGIN_VERSION', '1.0.1');`

2. Commit and tag the release:
```bash
git add wp-plugin.php
git commit -m "Bump version to 1.0.1"
git tag v1.0.1
git push origin main --tags
```

3. Create a GitHub Release with a ZIP asset:
   - Go to your repository → Releases → Create new release
   - Choose the tag you just pushed
   - Add release notes
   - Attach a ZIP file of your plugin (or use GitHub's auto-generated source code ZIP)

4. WordPress installations will automatically detect the new version

### Private Repositories

For private GitHub repositories, uncomment and configure authentication in `wp-plugin.php`:

```php
$updateChecker->setAuthentication('your_github_personal_access_token');
```

## License

MIT
